# üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï –í–°–ï–• –ü–†–û–ë–õ–ï–ú

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:

‚úÖ MongoDB Atlas –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å test@test.com —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (ID: 6930a7f7500ef1c618143a14)  
‚úÖ –ü–∞—Ä–æ–ª—å 123456 –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω  
‚ùå **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ù–ï–¢ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**  
‚ùå **–°–µ—Ä–≤–µ—Ä Timeweb –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "Invalid token" (401)**  

## üîç –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú:

**JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb –ù–ï –°–û–í–ü–ê–î–ê–ï–¢ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º**

–õ–æ–∫–∞–ª—å–Ω—ã–π .env –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
```
JWT_SECRET=a7f3e9c2b8d4f1a6e5c9b3d7f2a8e4c1b9d5f3a7e2c8b4d1f6a9e3c7b2d8f4a1
```

–°–µ—Ä–≤–µ—Ä Timeweb –∏—Å–ø–æ–ª—å–∑—É–µ—Ç (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ):
```
JWT_SECRET=123456
```

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ:
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω —Å–µ—Ä–≤–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç "Invalid token"
3. –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (401)
4. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (401)

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É Timeweb:
```bash
ssh root@193.233.103.8
cd ~/aviatickets-backend/tickets-backend
nano .env
```

–ó–∞–º–µ–Ω–∏—Ç–µ JWT_SECRET –Ω–∞:
```
JWT_SECRET=a7f3e9c2b8d4f1a6e5c9b3d7f2a8e4c1b9d5f3a7e2c8b4d1f6a9e3c7b2d8f4a1
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
pm2 restart aviatickets-backend
pm2 logs aviatickets-backend --lines 20
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π .env (–í–†–ï–ú–ï–ù–ù–û–ï –†–ï–®–ï–ù–ò–ï)

–ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É, –∏–∑–º–µ–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π .env:
```
JWT_SECRET=123456
```

–ù–æ —ç—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è production!

## üì± –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò:

### 1. –£–±—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω Login
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç MainTabs

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞

–¢–µ–ø–µ—Ä—å:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞

### 3. –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Ä–∞–Ω –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–Ω LogoutScreen –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ AsyncStorage

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### 1. –û—á–∏—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É:
```javascript
<Button title="–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" onPress={() => navigation.navigate('Logout')} />
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ:
```javascript
import AsyncStorage from '@react-native-async-storage/async-storage';
await AsyncStorage.clear();
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —ç–∫—Ä–∞–Ω Login

### 3. –í–æ–π–¥–∏—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏:
- Email: test@test.com
- –ü–∞—Ä–æ–ª—å: 123456

### 4. –°–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- ‚úÖ –ë–∏–ª–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ "–ú–æ–∏ –±–∏–ª–µ—Ç—ã"
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è

## üîß –ü–†–û–í–ï–†–ö–ê –°–ï–†–í–ï–†–ê:

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JWT_SECRET
cat ~/aviatickets-backend/tickets-backend/.env | grep JWT_SECRET

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MONGO_URI
cat ~/aviatickets-backend/tickets-backend/.env | grep MONGO_URI

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs aviatickets-backend --lines 50

# 4. –¢–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
curl -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'

# 5. –¢–µ—Å—Ç –ø—Ä–æ—Ñ–∏–ª—è (–∑–∞–º–µ–Ω–∏—Ç–µ TOKEN)
curl http://localhost:3000/me -H "Authorization: Bearer TOKEN"
```

## üìã –ß–ï–ö–õ–ò–°–¢:

- [ ] JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º
- [ ] MONGO_URI —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ MongoDB Atlas
- [ ] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] AsyncStorage –æ—á–∏—â–µ–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ
- [ ] –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- [ ] –ë–∏–ª–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

## üéØ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

–í—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
1. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
2. ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å (–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
4. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∏–ª–µ—Ç–æ–≤
5. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ MongoDB Atlas

---

**–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ò—Å–ø—Ä–∞–≤—å—Ç–µ —ç—Ç–æ –∏ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!**
