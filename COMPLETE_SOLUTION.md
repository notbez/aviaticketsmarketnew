# üéØ –ü–û–õ–ù–û–ï –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB Atlas
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ `tickets` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å test@test.com —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (ID: 6930a7f7500ef1c618143a14)
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏: users, bookings, faqs, supportmessages

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ ProfileScreen –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Ö–æ–¥ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Ö–æ–¥ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ AsyncStorage

## ‚ùå –ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

### –°–µ—Ä–≤–µ—Ä Timeweb –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 "Invalid token"

**–ü—Ä–∏—á–∏–Ω–∞:** JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```bash
# –¢–µ—Å—Ç –ø–æ–∫–∞–∑–∞–ª:
‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ (—Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω)
‚ùå /me –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Invalid token
‚ùå /booking –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Invalid token
```

## üîß –†–ï–®–ï–ù–ò–ï:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
ssh root@193.233.103.8
cd ~/aviatickets-backend/tickets-backend
nano .env
```

**–ò–∑–º–µ–Ω–∏—Ç–µ JWT_SECRET –Ω–∞:**
```
JWT_SECRET=a7f3e9c2b8d4f1a6e5c9b3d7f2a8e4c1b9d5f3a7e2c8b4d1f6a9e3c7b2d8f4a1
```

**–ü–æ–ª–Ω—ã–π .env —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
```env
PORT=3000

ONELYA_BASE_URL=https://api-test.onelya.ru/
ONELYA_LOGIN=trevel_test
ONELYA_PASSWORD=5mPaN5KyB!27LN!
ONELYA_POS=trevel_test

JWT_SECRET=a7f3e9c2b8d4f1a6e5c9b3d7f2a8e4c1b9d5f3a7e2c8b4d1f6a9e3c7b2d8f4a1

MONGO_URI=mongodb+srv://Misha110208:Misha110208@aviamarket.7o9kplj.mongodb.net/tickets?retryWrites=true&w=majority&appName=aviamarket

NODE_ENV=production
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
pm2 restart aviatickets-backend
pm2 logs aviatickets-backend --lines 20
```

## üß™ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
curl -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞
TOKEN="<–≤—Å—Ç–∞–≤—å—Ç–µ_—Ç–æ–∫–µ–Ω>"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å
curl http://localhost:3000/me -H "Authorization: Bearer $TOKEN"

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ –ù–ï 401!
```

### 2. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Expo
2. –í–æ–π–¥–∏—Ç–µ: test@test.com / 123456
3. –û—Ç–∫—Ä–æ–π—Ç–µ "–ú–æ–∏ –±–∏–ª–µ—Ç—ã" ‚Üí –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –û—Ç–∫—Ä–æ–π—Ç–µ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ê–∫–∫–∞—É–Ω—Ç ‚Üí –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è ‚Üí –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
5. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –±–∞–∑—É

## üìä –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•:

### –ë–∞–∑–∞: tickets

**–ö–æ–ª–ª–µ–∫—Ü–∏–∏:**
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (1 –¥–æ–∫—É–º–µ–Ω—Ç)
- `bookings` - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (1 —Ç–µ—Å—Ç–æ–≤–æ–µ)
- `faqs` - FAQ (15 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- `supportmessages` - —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (0)

**–î—Ä—É–≥–∏–µ –±–∞–∑—ã (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è):**
- `test` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ MongoDB
- `sample_mfix` - –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö MongoDB Atlas

## üìã –î–ê–ù–ù–´–ï –î–õ–Ø –í–•–û–î–ê:

**Email:** test@test.com  
**–ü–∞—Ä–æ–ª—å:** 123456  
**ID:** 6930a7f7500ef1c618143a14

**–¢–µ—Å—Ç–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ú–∞—Ä—à—Ä—É—Ç: –ú–æ—Å–∫–≤–∞ (SVO) ‚Üí –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (LED)
- –†–µ–π—Å: SU 1234
- –î–∞—Ç–∞: 15.12.2025
- –¶–µ–Ω–∞: 5000 RUB

## ‚úÖ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨:

1. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
2. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
3. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–∞—Å–ø–æ—Ä—Ç)
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
5. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –±–∏–ª–µ—Ç–æ–≤
6. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ MongoDB Atlas

## üéØ –ò–¢–û–ì:

**–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞** - JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb.

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å (–Ω–µ –±—É–¥–µ—Ç 401)
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è
- –ü—Ä–æ—Ñ–∏–ª—å –±—É–¥–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –ë–∏–ª–µ—Ç—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ! –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!** üöÄ
