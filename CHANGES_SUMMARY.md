# üìù –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ Onelya API

## üéØ –ó–∞–¥–∞—á–∞
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ü–æ–∏—Å–∫ —Ä–µ–π—Å–∞" –≤—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–ª—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Onelya API –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –≤–∏–¥–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Backend (tickets-backend/)

#### 1. FlightsService (`src/flights/flights.service.ts`)
- ‚úÖ **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å**: –í—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å MOW‚ÜíTJM (10-15 –¥–µ–∫–∞–±—Ä—è 2025)
- ‚úÖ **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ Onelya –≤ –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤**: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ **Fallback –¥–∞–Ω–Ω—ã–µ**: –î–µ–º–æ-–±–∏–ª–µ—Ç—ã –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ü–µ—Ä–µ—Å–∞–¥–∫–∏, —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞, –±–∞–≥–∞–∂, –ø–∏—Ç–∞–Ω–∏–µ

#### 2. FlightsController (`src/flights/flights.controller.ts`)
- ‚úÖ **Health check**: –î–æ–±–∞–≤–ª–µ–Ω endpoint `/flights/health` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### Frontend (aviatickets-demo/)

#### 1. SearchScreen (`screens/SearchScreen.js`)
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ó–∞–ø—Ä–æ—Å –∫ backend –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞**: LoadingOverlay –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ **–î–µ–º–æ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–∞—Ä—à—Ä—É—Ç–µ
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: Alert –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

#### 2. ResultsScreen (`screens/ResultsScreen.js`)
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ **–°—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–π—Å–æ–≤
- ‚úÖ **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ö—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ —Ä–µ–π—Å–æ–≤ –Ω–µ—Ç
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–π UI**: –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏

#### 3. FlightCard (`components/FlightCard.js`)
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ü–µ—Ä–µ—Å–∞–¥–∫–∏, —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**: –ú–∞–ª–æ –º–µ—Å—Ç, –µ—Å—Ç—å –ø–µ—Ä–µ—Å–∞–¥–∫–∏
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏**: –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### 4. API Configuration (`constants/api.js`)
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ localhost:3000 –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É** (–ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ)
2. **–ù–∞–∂–∏–º–∞–µ—Ç "–ù–∞–π—Ç–∏"** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞
3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å** –∫ Onelya API:
   ```json
   {
     "AdultQuantity": 1,
     "Segments": [
       {"OriginCode": "MOW", "DestinationCode": "TJM", "DepartureDate": "2025-12-10T00:00:00"},
       {"OriginCode": "TJM", "DestinationCode": "MOW", "DepartureDate": "2025-12-15T00:00:00"}
     ]
   }
   ```
4. **Backend —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç** –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
5. **–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–∏–ª–µ—Ç—ã** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
6. **–ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –í—Ö–æ–¥ (Onelya API Response)
```json
{
  "Routes": [
    {
      "Segments": [
        {
          "Flights": [
            {
              "FlightNumber": "126",
              "MarketingAirlineCode": "UT",
              "DepartureDateTime": "2016-11-19T09:30:00",
              "FlightDuration": "03:30:00"
            }
          ]
        }
      ],
      "Cost": 49460.0
    }
  ]
}
```

### –í—ã—Ö–æ–¥ (–¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
```json
{
  "results": [
    {
      "id": "flight-0-0",
      "from": "VKO",
      "to": "TJM",
      "departTime": "09:30",
      "duration": "3—á 30–º",
      "flightNumber": "UT 126",
      "provider": "UTair",
      "price": "24,730",
      "stops": 1,
      "availableSeats": 9
    }
  ]
}
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# Backend
cd tickets-backend
npm run start:dev

# Frontend  
cd aviatickets-demo
npx expo start
```

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Onelya API –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –≤–∏–¥–µ –±–∏–ª–µ—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—É—Å–ø–µ—Ö, –æ—à–∏–±–∫–∞, –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- ‚úÖ Fallback –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å Onelya API