# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –¥–µ–º–æ Aviatickets

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

‚úÖ **Backend (NestJS)**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Onelya API (MOW ‚Üî TJM, 10-15 –¥–µ–∫–∞–±—Ä—è 2025)
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ API –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Fallback –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- Health check endpoints

‚úÖ **Frontend (React Native)**
- –ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –≤–∏–¥–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –î–µ–º–æ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–∞—Ä—à—Ä—É—Ç–µ

## üèÉ‚Äç‚ôÇÔ∏è –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ Backend

```bash
cd tickets-backend
npm install
npm run start:dev
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

```bash
# Health check
curl http://localhost:3000/flights/health

# –ü–æ–∏—Å–∫ —Ä–µ–π—Å–æ–≤ (–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç MOW-TJM)
curl "http://localhost:3000/flights/search?from=SVO&to=LED&date=2025-12-20"
```

### 3. –ó–∞–ø—É—Å–∫ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd aviatickets-demo
npm install
npx expo start
```

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–º–æ

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –ø–æ–∏—Å–∫–∞** - –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ
2. **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ù–∞–π—Ç–∏"** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Onelya API:
   ```json
   {
     "AdultQuantity": 1,
     "Segments": [
       {"OriginCode": "MOW", "DestinationCode": "TJM", "DepartureDate": "2025-12-10T00:00:00"},
       {"OriginCode": "TJM", "DestinationCode": "MOW", "DepartureDate": "2025-12-15T00:00:00"}
     ]
   }
   ```
3. **–û—Ç–≤–µ—Ç API —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è** –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–∏–ª–µ—Ç—ã** —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–µ–π—Å–∞—Ö, —Ü–µ–Ω–∞—Ö, –∞–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏—è—Ö
5. **–ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ

## üì± –ß—Ç–æ —É–≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

- **–≠–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞** —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –æ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ
- **–ó–∞–≥—Ä—É–∑–∫–∞** –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ –∫ API
- **–°–ø–∏—Å–æ–∫ —Ä–µ–π—Å–æ–≤** –≤ –≤–∏–¥–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤ —Å:
  - –õ–æ–≥–æ—Ç–∏–ø–∞–º–∏ –∞–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏–π
  - –í—Ä–µ–º–µ–Ω–µ–º –≤—ã–ª–µ—Ç–∞/–ø—Ä–∏–ª–µ—Ç–∞
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–ª–µ—Ç–∞
  - –¶–µ–Ω–æ–π
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–µ—Ä–µ—Å–∞–¥–∫–∞—Ö
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### Backend (.env)
```env
PORT=3000
ONELYA_BASE_URL=https://api-test.onelya.ru/
ONELYA_LOGIN=trevel_test
ONELYA_PASSWORD=5mPaN5KyB!27LN!
ONELYA_POS=trevel_test
```

### Frontend (constants/api.js)
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç localhost:3000 –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
export const API_BASE = 'http://localhost:3000';
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js 18+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 3000 —Å–≤–æ–±–æ–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª

### –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:3000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/—ç–º—É–ª—è—Ç–æ—Ä –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏
- –î–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∑–∞–º–µ–Ω–∏—Ç–µ localhost –Ω–∞ IP –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

### API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞
- API –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è fallback –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Onelya –≤ .env —Ñ–∞–π–ª–µ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API

Backend —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—ã–π –æ—Ç–≤–µ—Ç Onelya –≤ –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç:

```json
{
  "results": [
    {
      "id": "flight-0-0",
      "from": "VKO",
      "to": "TJM", 
      "departTime": "09:30",
      "duration": "3—á 30–º",
      "flightNumber": "UT 126",
      "provider": "UTair",
      "price": "24,730",
      "stops": 1,
      "availableSeats": 9
    }
  ]
}
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤ —Å:
- –†–µ–∞–ª—å–Ω—ã–º API Onelya
- –ö—Ä–∞—Å–∏–≤—ã–º –º–æ–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º  
- –û–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- Fallback –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏